"use strict";(self.webpackChunkdaks_ndt_frontend=self.webpackChunkdaks_ndt_frontend||[]).push([[950],{5950:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(2555),c=a(5043),i=a(3216),t=a(4227),r=a(579);const l=function(){const e=(0,i.Zp)(),[s,a]=(0,c.useState)("checking"),[l,d]=(0,c.useState)(!1),[o,m]=(0,c.useState)(""),[h,u]=(0,c.useState)(!1),[x,j]=(0,c.useState)({username:"",password:""});(0,c.useEffect)(()=>{N()},[]);const N=async()=>{a("checking");try{const e=await(0,t.H2)(t.Hr.HEALTH,{method:"GET"});a(e.success?"connected":"error")}catch(e){a("error")}};return(0,r.jsxs)("div",{className:"admin-login-page",children:[(0,r.jsxs)("div",{className:"server-status ".concat(s),children:["checking"===s&&"\ud83d\udd04 Checking server...","connected"===s&&"\ud83d\udfe2 Server Connected","error"===s&&"\ud83d\udd34 Server Offline"]}),(0,r.jsxs)("div",{className:"login-main-container",children:[(0,r.jsxs)("div",{className:"ndt-info-section",children:[(0,r.jsxs)("div",{className:"ndt-brand",children:[(0,r.jsx)("h1",{className:"ndt-title",children:"DAKS NDT"}),(0,r.jsx)("h2",{className:"ndt-subtitle",children:"Non-Destructive Testing Management System"})]}),(0,r.jsxs)("div",{className:"features-list",children:[(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)("div",{className:"feature-check",children:"\u2713"}),(0,r.jsxs)("div",{className:"feature-content",children:[(0,r.jsx)("h3",{children:"Equipment Calibration"}),(0,r.jsx)("p",{children:"Track and manage calibration schedules"})]})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)("div",{className:"feature-check",children:"\u2713"}),(0,r.jsxs)("div",{className:"feature-content",children:[(0,r.jsx)("h3",{children:"Inspection Reports"}),(0,r.jsx)("p",{children:"Generate detailed NDT reports"})]})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)("div",{className:"feature-check",children:"\u2713"}),(0,r.jsxs)("div",{className:"feature-content",children:[(0,r.jsx)("h3",{children:"Secure Access"}),(0,r.jsx)("p",{children:"Risk-based authentication system"})]})]})]}),!1]}),(0,r.jsx)("div",{className:"login-form-section",children:(0,r.jsxs)("div",{className:"login-card",children:[(0,r.jsxs)("div",{className:"login-header-section",children:[(0,r.jsx)("h2",{className:"admin-login-title",children:"Administration Login"}),(0,r.jsx)("p",{className:"login-subtitle",children:"Enter your credentials to access the control panel"})]}),o&&(0,r.jsxs)("div",{className:"login-message ".concat(o.includes("\u2705")?"success":"error"),children:[(0,r.jsx)("div",{className:"message-icon",children:o.includes("\u2705")?"\u2713":"\u2715"}),(0,r.jsx)("span",{children:o})]}),(0,r.jsxs)("form",{className:"login-form",onSubmit:async s=>{s.preventDefault(),d(!0),m("");try{var a;const s=await(0,t.H2)(t.Hr.ADMIN_LOGIN,{method:"POST",body:JSON.stringify(x)});var n;if(s.success&&null!==(a=s.data)&&void 0!==a&&a.success)localStorage.setItem("admin_token",s.data.token),localStorage.setItem("admin_data",JSON.stringify(s.data.admin)),m("\u2705 Login successful! Redirecting..."),setTimeout(()=>{e("/admin/dashboard")},1e3);else m("\u274c ".concat((null===(n=s.data)||void 0===n?void 0:n.message)||"Login failed"))}catch(c){m("\u274c Cannot connect to backend")}finally{d(!1)}},children:[(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{className:"field-label",children:"Username"}),(0,r.jsx)("div",{className:"input-container",children:(0,r.jsx)("input",{type:"text",className:"form-input",value:x.username,onChange:e=>j((0,n.A)((0,n.A)({},x),{},{username:e.target.value})),placeholder:"Enter username",required:!0})})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{className:"field-label",children:"Password"}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("input",{type:h?"text":"password",className:"form-input",value:x.password,onChange:e=>j((0,n.A)((0,n.A)({},x),{},{password:e.target.value})),placeholder:"Enter password",required:!0}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>u(!h),children:h?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,r.jsx)("div",{className:"form-options",children:(0,r.jsxs)("label",{className:"checkbox-label",children:[(0,r.jsx)("input",{type:"checkbox",className:"checkbox-input"}),(0,r.jsx)("span",{className:"checkbox-custom"}),(0,r.jsx)("span",{className:"checkbox-text",children:"Remember me"})]})}),(0,r.jsx)("button",{type:"submit",className:"signin-button ".concat(l?"loading":""),disabled:l||"error"===s,children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"loading-spinner"}),(0,r.jsx)("span",{children:"Signing in..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Sign in"}),(0,r.jsx)("svg",{className:"arrow-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})})]})]})}}}]);
//# sourceMappingURL=950.ec6a41c3.chunk.js.map