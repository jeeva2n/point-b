"use strict";(self.webpackChunkdaks_ndt_frontend=self.webpackChunkdaks_ndt_frontend||[]).push([[700],{3700:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(5043),n=s(3216),c=s(4227),i=s(579);const r=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(0),[h,m]=(0,a.useState)("description"),[g,p]=(0,a.useState)([]),[v,x]=(0,a.useState)(0),[j,N]=(0,a.useState)({show:!1,message:"",type:""}),{productId:f}=(0,n.g)(),b=(0,n.Zp)(),k=function(e){N({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{N({show:!1,message:"",type:""})},3e3)},y=(0,a.useCallback)(async()=>{try{var e;r(!0);const s=await(0,c.H2)(c.Hr.PRODUCT_BY_ID(f),{method:"GET"});s.success&&null!==(e=s.data)&&void 0!==e&&e.success?t(s.data.product):t(null)}catch(s){console.error("Error fetching product details:",s),t(null)}finally{r(!1)}},[f]),w=(0,a.useCallback)(async()=>{try{var e;const t=await(0,c.H2)("".concat(c.Hr.PRODUCTS,"?limit=100"),{method:"GET"});t.success&&null!==(e=t.data)&&void 0!==e&&e.success&&p(t.data.products||[])}catch(t){console.error("Error fetching all products:",t)}},[]);(0,a.useEffect)(()=>{y(),w()},[y,w]),(0,a.useEffect)(()=>{if(g.length>0&&f){const e=g.findIndex(e=>e.id.toString()===f.toString());-1!==e&&x(e)}},[g,f]),(0,a.useEffect)(()=>{u(0)},[f]);const S=e?e.images&&e.images.length>0?e.images.map(e=>"string"===typeof e?e:e.url):e.mainImage?[e.mainImage]:e.image_url?[e.image_url]:[]:[];if(s)return(0,i.jsx)("div",{className:"main-container loading-state",children:"Loading product details..."});if(!e)return(0,i.jsxs)("div",{className:"main-container error-state",children:[(0,i.jsx)("h2",{children:"Product not found"}),(0,i.jsx)("button",{onClick:()=>b(-1),className:"contact-button",children:"Go Back"})]});const I=[{id:"description",title:"Description & Benefits",content:(0,i.jsx)("p",{children:e.description||"No description available."})},{id:"technical",title:"Technical Data",content:(()=>{const t=[{label:"Dimensions",value:e.dimensions},{label:"Tolerance",value:e.tolerance},{label:"Standards",value:e.standards},{label:"SKU",value:e.sku}].filter(e=>e.value);return(0,i.jsx)("div",{className:"tech-specs-container",children:t.map((e,t)=>(0,i.jsxs)("div",{className:"spec-row",children:[(0,i.jsxs)("span",{className:"spec-label",children:[e.label,":"]}),(0,i.jsx)("span",{className:"spec-value",children:e.value})]},t))})})()}];return(0,i.jsxs)("div",{className:"main-container",children:[j.show&&(0,i.jsx)("div",{className:"notification ".concat(j.type),children:j.message}),(0,i.jsx)("div",{className:"carousel-container",children:(0,i.jsxs)("div",{className:"carousel-content",children:[(0,i.jsx)("div",{className:"carousel-left",children:(0,i.jsxs)("div",{className:"image-container",children:[S.length>0?(0,i.jsx)("img",{src:(0,c.VG)(S[d]),alt:e.name,className:"machine-image",onError:e=>e.target.src="/images/placeholder.jpg"}):(0,i.jsx)("div",{className:"no-image-placeholder",children:"No Image Available"}),S.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"nav-button prev",onClick:()=>u((d-1+S.length)%S.length),children:(0,i.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M15 19l-7-7 7-7",stroke:"#FF4B55",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,i.jsx)("button",{className:"nav-button next",onClick:()=>u((d+1)%S.length),children:(0,i.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M9 5l7 7-7 7",stroke:"#FF4B55",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}),(0,i.jsxs)("div",{className:"carousel-right",children:[(0,i.jsx)("span",{className:"products-label",children:e.category||"NDT Products"}),(0,i.jsx)("h1",{className:"product-title",children:e.name}),(0,i.jsx)("div",{className:"gradient-bar"}),(0,i.jsx)("div",{className:"features-list",children:(()=>{if(!e)return[];const t=[];return e.type&&t.push(e.type.replace(/_/g," ")),e.tolerance&&t.push("Tolerance: ".concat(e.tolerance)),t.length>0?t.slice(0,3):["Premium NDT Reference Standard"]})().map((e,t)=>(0,i.jsxs)("div",{className:"feature-item",children:[(0,i.jsx)("div",{className:"check-icon",children:(0,i.jsx)("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",children:(0,i.jsx)("path",{d:"M1 5L5 9L13 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,i.jsx)("p",{children:e})]},t))}),(0,i.jsxs)("div",{className:"action-buttons",children:[(0,i.jsx)("button",{className:"catalogue-button",onClick:()=>b(-1),children:(0,i.jsx)("span",{children:"Catalogue"})}),(0,i.jsx)("button",{className:"cart-button",onClick:()=>(async e=>{try{var t;o(!0);const s=localStorage.getItem("cartId")||null,a=await(0,c.H2)(c.Hr.CART,{method:"POST",body:JSON.stringify({cartId:s,productId:e.id,quantity:1})});a.success&&null!==(t=a.data)&&void 0!==t&&t.success?(a.data.cartId&&localStorage.setItem("cartId",a.data.cartId),k("".concat(e.name," added to cart!"),"success"),window.dispatchEvent(new CustomEvent("cartUpdated"))):k("Failed to add to cart.","error")}catch(s){k("Error adding to cart.","error")}finally{o(!1)}})(e),disabled:l,children:(0,i.jsx)("span",{children:l?"Adding...":"Add to Quote"})}),(0,i.jsx)("button",{className:"quote-button",onClick:()=>(async e=>{try{var t;o(!0);const s=localStorage.getItem("quoteId")||null,a=await(0,c.H2)(c.Hr.QUOTES,{method:"POST",body:JSON.stringify({quoteId:s,productId:e.id,quantity:1})});a.success&&null!==(t=a.data)&&void 0!==t&&t.success?(a.data.quoteId&&localStorage.setItem("quoteId",a.data.quoteId),k("".concat(e.name," added to quote request!"),"success"),window.dispatchEvent(new CustomEvent("quoteUpdated"))):k("Failed to add to quote request.","error")}catch(s){k("Error adding to quote request.","error")}finally{o(!1)}})(e),disabled:l,children:(0,i.jsx)("span",{children:l?"Requesting...":"Request Quote"})})]})]})]})}),(0,i.jsx)("div",{className:"accordion-section",children:I.map(e=>(0,i.jsxs)("div",{className:"accordion-item",children:[(0,i.jsxs)("button",{className:"accordion-header",onClick:()=>{return t=e.id,void m(h===t?null:t);var t},children:[(0,i.jsx)("span",{className:"accordion-icon",children:h===e.id?"\u2212":"+"}),(0,i.jsx)("span",{className:"accordion-title",children:e.title})]}),h===e.id&&(0,i.jsx)("div",{className:"accordion-content",children:e.content})]},e.id))})]})}}}]);
//# sourceMappingURL=700.50cad314.chunk.js.map